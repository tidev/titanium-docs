(window.webpackJsonp=window.webpackJsonp||[]).push([[1438],{1527:function(e,t,a){"use strict";a.r(t);var n=a(21),o=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"c-and-c-coding-standards"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-and-c-coding-standards"}},[e._v("#")]),e._v(" C and C++ Coding Standards")]),e._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("Contents")])]),e._v(" "),a("h2",{attrs:{id:"synopsis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#synopsis"}},[e._v("#")]),e._v(" Synopsis")]),e._v(" "),a("p",[e._v("This document is intended to provide a base standard for all languages derived from C and C++ that we work with at Appcelerator, allowing us to write clean, consistent-looking, readable code. Due to the lack of well-defined common C coding standards, we have grown our own from scratch, as opposed to the Java and Objective-C standards, which are based on well-defined existing standards that have modifications made to them.")]),e._v(" "),a("p",[e._v("This document does not include platform- or product-specific conventions for C or C++.")]),e._v(" "),a("h2",{attrs:{id:"standards"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#standards"}},[e._v("#")]),e._v(" Standards")]),e._v(" "),a("p",[e._v("The following is a set of standard formatting and naming conventions which we expect to be followed for C or C++ source code.")]),e._v(" "),a("h3",{attrs:{id:"column-width"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#column-width"}},[e._v("#")]),e._v(" Column width")]),e._v(" "),a("p",[e._v('We do not enforce column width. However, you should make a best effort to keep your source readable on 15" monitors, which have approximately 200 columns (based off of Andale Mono 12pt.)')]),e._v(" "),a("h3",{attrs:{id:"indentation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#indentation"}},[e._v("#")]),e._v(" Indentation")]),e._v(" "),a("ul",[a("li",[e._v("Indentation is done in tabstops ("),a("code",[e._v("\\t")]),e._v(") to allow for configurable spacing in modern IDEs. For the purposes of all indentation, one tabstop is considered to be 4 spaces.")])]),e._v(" "),a("h4",{attrs:{id:"whitespace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#whitespace"}},[e._v("#")]),e._v(" Whitespace")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Consecutive lines of whitespace should be avoided within blocks of code, but may be used to separate logical sections of definitions.")])]),e._v(" "),a("li",[a("p",[e._v("Whitespace should be used to separate logical code blocks. Use your best judgement.")])]),e._v(" "),a("li",[a("p",[e._v("Blocks which are used solely for scoping must be both preceded and followed by one line of whitespace.")])]),e._v(" "),a("li",[a("p",[e._v("Whitespace should be placed between function definitions.")]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("void f(x)\n{\n//....\n}\n\nvoid g(x)\n{\n//....\n}\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Comments should be preceded by a line of whitespace, unless they are inline.")])]),e._v(" "),a("li",[a("p",[e._v("Complete flow control statements ("),a("code",[e._v("do...while")]),e._v(", "),a("code",[e._v("while")]),e._v(", "),a("code",[e._v("if...else if...else")]),e._v(", "),a("code",[e._v("switch")]),e._v(") should be followed by whitespace.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("return")]),e._v(" statements should not be followed by whitespace.")])])]),e._v(" "),a("h4",{attrs:{id:"alignment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alignment"}},[e._v("#")]),e._v(" Alignment")]),e._v(" "),a("ul",[a("li",[e._v("All alignment must be on tabstops.")])]),e._v(" "),a("h3",{attrs:{id:"comments"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#comments"}},[e._v("#")]),e._v(" Comments")]),e._v(" "),a("p",[e._v("There are two types of comment styles: Comments formatted for internal documentation, and comments formatted for documentation generation.")]),e._v(" "),a("h4",{attrs:{id:"documentation-generation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#documentation-generation"}},[e._v("#")]),e._v(" Documentation generation")]),e._v(" "),a("ul",[a("li",[e._v("Comments must follow the general formatting rules below, "),a("strong",[e._v("except")]),e._v(" for where they conflict with the documentation generation rules (appledoc requires that the comment open with "),a("code",[e._v("/**")]),e._v(" on a single line to be processed, for example, and some may not allow for leading splats or require other keywords.)")])]),e._v(" "),a("h4",{attrs:{id:"internal-documentation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#internal-documentation"}},[e._v("#")]),e._v(" Internal documentation")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Commenting style:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Methods or functions are documented with "),a("code",[e._v("/* ... */")]),e._v(", where each line has aligned splats")])]),e._v(" "),a("li",[a("p",[e._v("Code is documented with aligned "),a("code",[e._v("//...")]),e._v(" statements")])]),e._v(" "),a("li",[a("p",[e._v("Commented-out code is documented with "),a("code",[e._v("/* ... */")])])])])])]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/*\n * Describe your function here\n */")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("void")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("myfunctin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("do")]),e._v(" something here\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("do")]),e._v(" something "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("else")]),e._v(" really complex\n\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/*\n    * Why didn't we delete this?\n    *\n        dead_code()\n    */")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h4",{attrs:{id:"forbidden-words"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#forbidden-words"}},[e._v("#")]),e._v(" Forbidden words")]),e._v(" "),a("p",[e._v("The following words are not allowed in comments:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("hack")])]),e._v(" "),a("li",[a("p",[e._v("temporary")])]),e._v(" "),a("li",[a("p",[e._v("workaround ("),a("strong",[e._v("exception:")]),e._v(" In conjunction with an explanation of an issue we have no control over)")])]),e._v(" "),a("li",[a("p",[e._v('"implement later" or other TODO-equivalent statements (use TODO)')])]),e._v(" "),a("li",[a("p",[e._v("Any words you would not say in front of a nice grandma")])]),e._v(" "),a("li",[a("p",[e._v('"Why do we...?" (check the blame, ask the original committer, and document or remove the questionable code)')])]),e._v(" "),a("li",[a("p",[e._v("Words or phrases which could be considered as detrimental to the platform")])])]),e._v(" "),a("p",[e._v("In addition it is expected that all of your comments will contain correct spelling (and reasonable grammar for the intent of the comment)")]),e._v(" "),a("h4",{attrs:{id:"when-to-write-comments"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#when-to-write-comments"}},[e._v("#")]),e._v(" When to write comments")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Exposed API (public, protected, or a C function in a header file)? "),a("strong",[e._v("Write a comment, and make sure the docgen can pick it up.")])])]),e._v(" "),a("li",[a("p",[e._v("Done something strange? "),a("strong",[e._v("Write a comment.")])])]),e._v(" "),a("li",[a("p",[e._v("Need to write pseudocode or logic flow? "),a("strong",[e._v("Write a comment.")])])]),e._v(" "),a("li",[a("p",[e._v("Handling a unique edge case? "),a("strong",[e._v("Write a comment.")])])]),e._v(" "),a("li",[a("p",[e._v('Is your code a platform "workaround" of some kind? '),a("strong",[e._v("Write a comment.")])])]),e._v(" "),a("li",[a("p",[e._v("Did you have to ask a colleague about the intent of code they wrote? "),a("strong",[e._v("Write a comment for it.")])])]),e._v(" "),a("li",[a("p",[e._v("When in doubt? "),a("strong",[e._v("Write a comment.")])])])]),e._v(" "),a("h4",{attrs:{id:"when-not-to-write-a-comment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#when-not-to-write-a-comment"}},[e._v("#")]),e._v(" When not to write a comment")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("If your comment has absolutely nothing useful to say about the source, "),a("strong",[e._v("don't write a comment.")])])]),e._v(" "),a("li",[a("p",[e._v("If your comment is redundant, "),a("strong",[e._v("don't write a comment.")])])]),e._v(" "),a("li",[a("p",[e._v("If your comment explains something obvious in the source, "),a("strong",[e._v("don't write a comment.")])])])]),e._v(" "),a("h3",{attrs:{id:"braces"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#braces"}},[e._v("#")]),e._v(" Braces")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Closing braces must be on their own line, and followed by whitespace.")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Exception")]),e._v(": Closing braces immediately followed by another closing brace are not followed by whitespace.")])])]),e._v(" "),a("li",[a("p",[e._v("Opening braces must be on their own line, aligned with the previous statement.")]),e._v(" "),a("ul",[a("li",[e._v("Opening braces should not be followed by whitespace.")])])])]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("void f(x)\n{\n    if (x)\n    {\n      // ...\n      //\n      //\n      //\n    }\n    else\n    {\n      // ...\n    }\n\n  while (true)\n    {\n    }\n}\n")])])]),a("h3",{attrs:{id:"namespace"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#namespace"}},[e._v("#")]),e._v(" namespace")]),e._v(" "),a("p",[e._v('NEVER use "using namespace x". This include "std" in C++')]),e._v(" "),a("h4",{attrs:{id:"namespace-ordering"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#namespace-ordering"}},[e._v("#")]),e._v(" namespace ordering")]),e._v(" "),a("p",[e._v("Namespaces should follow the following declaration/definition ordering, with each section separated by whitespace:")]),e._v(" "),a("p",[e._v("namespace-contents:")]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("namespace")])])]),e._v(" "),a("li",[a("p",[a("code",[e._v("const")]),e._v(" variables")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("enum")])])]),e._v(" "),a("li",[a("p",[e._v("typedefs (including "),a("code",[e._v("struct")]),e._v(" / "),a("code",[e._v("union")]),e._v(")")])]),e._v(" "),a("li",[a("p",[e._v("function declarations")])]),e._v(" "),a("li",[a("p",[e._v("inlined functions")])]),e._v(" "),a("li",[a("p",[e._v("class information")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("definitions")])]),e._v(" "),a("li",[a("p",[e._v("implementation (inline & template)")])])])]),e._v(" "),a("li",[a("p",[e._v("namespace-contents")])])]),e._v(" "),a("h4",{attrs:{id:"namespace-implementation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#namespace-implementation"}},[e._v("#")]),e._v(" namespace implementation")]),e._v(" "),a("p",[e._v("When using a namespace in a implementation file, use the following style:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// this is what we want\nnamespace\n{\n  MyType1 myFunc1(MyType2 x, MyType3 y)\n  {\n    // impl\n  }\n}\n\n//here is what we don't want (even worse if you have nested namespaces):\nnamespace::MyType1 namespace::myFunc1(namespace::MyType2 x, namespace::MyType3 y)\n{\n  // impl\n}\n")])])]),a("h3",{attrs:{id:"headers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#headers"}},[e._v("#")]),e._v(" Headers")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("You are expected to include standard "),a("code",[e._v("#ifndef / #define / #endif")]),e._v(" guards in your header files, where the macro is named: "),a("code",[e._v("[pe:file_basename]h``_")])]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// hello.h\n#ifndef __hello_h__\n#define __hello_h__\n\n//your_header_here\n\n#endif\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Headers must be "),a("code",[e._v('extern "C"')]),e._v(" if intended to be interoperable with C code.")])]),e._v(" "),a("li",[a("p",[e._v("Headers should contain logically grouped macros, typedefs, classes, and function definitions only, which are intended to be used by code from outside of the implementation file.")]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("Exception:")]),e._v(" Headers must also contain implementations for templated code, as required by C++.")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("Exception:")]),e._v(" Headers must contain implementations for inline functions, but these should be used sparingly. Remember that "),a("code",[e._v("inline")]),e._v(" is only a compiler hint.")])])])]),e._v(" "),a("li",[a("p",[e._v("Headers "),a("strong",[e._v("must")]),e._v("contain an up-to-date copyright notice. If you modify a header with an incorrect copyright date, you are expected to update it.")]),e._v(" "),a("ul",[a("li",[e._v('If you modify the source for a 3rd party library, you are expected to include a copyright header which mentions that "some modifications" were performed by Appcelerator, and those changes are available under the same license as the original source (or a compatible license).')])])])]),e._v(" "),a("h4",{attrs:{id:"order-of-declarations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#order-of-declarations"}},[e._v("#")]),e._v(" Order of declarations")]),e._v(" "),a("p",[e._v("Headers should have their definitions/declarations ordered in the following way (with "),a("code",[e._v("namespace-contents")]),e._v(" as above), with whitespace between sections:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("copyright notice")])]),e._v(" "),a("li",[a("p",[e._v("header include check")])]),e._v(" "),a("li",[a("p",[e._v("system "),a("code",[e._v("#include")])])]),e._v(" "),a("li",[a("p",[e._v("3rd party "),a("code",[e._v("#include")])])]),e._v(" "),a("li",[a("p",[e._v("project "),a("code",[e._v("#include")])])]),e._v(" "),a("li",[a("p",[e._v("macros")])]),e._v(" "),a("li",[a("p",[e._v("namespace-contents (same ordering of contents, "),a("code",[e._v("namespace")]),e._v(" optional)")])])]),e._v(" "),a("h3",{attrs:{id:"preprocessor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#preprocessor"}},[e._v("#")]),e._v(" Preprocessor")]),e._v(" "),a("p",[e._v("The preprocessor deserves its own detailed section. However, you are "),a("strong",[e._v("discouraged")]),e._v(" from using the preprocessor except where absolutely necessary.")]),e._v(" "),a("h4",{attrs:{id:"naming"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#naming"}},[e._v("#")]),e._v(" Naming")]),e._v(" "),a("p",[e._v("Macro names must:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Be in all caps")])]),e._v(" "),a("li",[a("p",[e._v("Have words separated by underscores")])]),e._v(" "),a("li",[a("p",[e._v("Be descriptive")])])]),e._v(" "),a("h4",{attrs:{id:"indentation-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#indentation-2"}},[e._v("#")]),e._v(" Indentation")]),e._v(" "),a("p",[e._v("All preprocessor directives must not be indented (start at column 0) although their contents may be aligned with surrounding code.")]),e._v(" "),a("h4",{attrs:{id:"the-include-directive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-include-directive"}},[e._v("#")]),e._v(" The include Directive")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("For system headers: "),a("code",[e._v("#include <...>")])])]),e._v(" "),a("li",[a("p",[e._v("For project/3rd party headers: "),a("code",[e._v('#include "..."')])])])]),e._v(" "),a("h4",{attrs:{id:"constants"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#constants"}},[e._v("#")]),e._v(" Constants")]),e._v(" "),a("p",[e._v("Do not define global constants with "),a("code",[e._v("#define")]),e._v(". Use "),a("code",[e._v("const")]),e._v(" variables only, and ideally constants are in a "),a("code",[e._v("namespace")]),e._v(" as well (when writing C++.)")]),e._v(" "),a("h4",{attrs:{id:"the-define-directive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-define-directive"}},[e._v("#")]),e._v(" The define Directive")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Do not include a semicolon at the end of a "),a("code",[e._v("#define")])])]),e._v(" "),a("li",[a("p",[e._v("Use "),a("code",[e._v("#define")]),e._v(" "),a("strong",[e._v("only")]),e._v(" for situations in which you cannot use "),a("code",[e._v("const")]),e._v(" or "),a("code",[e._v("inline")]),e._v("functions. Such examples may include:")]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("DEBUG")]),e._v(" or other conditional-compilation checks")])]),e._v(" "),a("li",[a("p",[e._v("Function-like calls which cannot be easily abstracted into functions (such as our Objective-C macro "),a("code",[e._v("RELEASE_TO_NIL")]),e._v(")")])]),e._v(" "),a("li",[a("p",[e._v("Function generators (such as "),a("code",[e._v("getX")]),e._v(" / "),a("code",[e._v("setX")]),e._v(" pairs, or defining a function which returns a constant value)")])])])]),e._v(" "),a("li",[a("p",[a("code",[e._v("#define")]),e._v("statements which perform any sort of inline operation must be enclosed in parenthesis")]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("#define ADD(x,y) (x+y)\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Multi-line "),a("code",[e._v("#define")]),e._v(" statements are expected to be formatted according to the usual rules, with the first statement of the "),a("code",[e._v("#define")]),e._v("not being indented.")]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("#define NAMED_PROPERTY(name) \\\nvoid* name = NULL; \\\nvoid set_##name(void* value) \\\n{ \\\n  name = value;\n} \\\n\\\nvoid* get_##name(void) \\\n{ \\\n  return name;\n}\n")])])])])]),e._v(" "),a("h4",{attrs:{id:"conditionals"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#conditionals"}},[e._v("#")]),e._v(" Conditionals")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Prefer "),a("code",[e._v("#ifdef")]),e._v(" and "),a("code",[e._v("#ifndef")]),e._v(" over "),a("code",[e._v("#if defined(...)")]),e._v(" and "),a("code",[e._v("#if !defined(...)")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Conditionals should have their contents aligned with surrounding code, or if the conditional does not have surrounding code, their first line should not be indented.")])])]),e._v(" "),a("h3",{attrs:{id:"flow-control"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#flow-control"}},[e._v("#")]),e._v(" Flow control")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("All flow control statements must have a logical block associated with them (no single-statement if)")])]),e._v(" "),a("li",[a("p",[e._v("Checking for validity of a pointer or value directly is allowed: "),a("code",[e._v("if (ptr)")]),e._v(" and "),a("code",[e._v("if (ptr != NULL)")]),e._v("are both acceptable. Where clarity is a primary concern (such as compound conditionals) the latter is preferred.")]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("if (x)\n{\n  // ...\n}\nelse if (y ||\n         z)\n{\n  // ...\n}\n")])])])])]),e._v(" "),a("h4",{attrs:{id:"switch-case"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#switch-case"}},[e._v("#")]),e._v(" switch/case")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Each "),a("code",[e._v("case")]),e._v(" must have a logical block associated with it unless it is fallthrough-only.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("default:")]),e._v(" should be the final case of your "),a("code",[e._v("switch")]),e._v("statement.")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Corollary")]),e._v(" : "),a("code",[e._v("default")]),e._v(" should never be a fallthrough statement. Even if it does nothing, it should consist of a "),a("code",[e._v("break")]),e._v(" or "),a("code",[e._v("return")]),e._v(".")])])]),e._v(" "),a("li",[a("p",[e._v("Fallthrough "),a("code",[e._v("case")]),e._v(" must have their final line be the comment "),a("code",[e._v("// FALLTHROUGH")]),e._v(", or have the comment inline if they are fallthrough-only.")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("case")]),e._v(" statements which early-"),a("code",[e._v("return")]),e._v(" do not have to end with a "),a("code",[e._v("break")]),e._v("statement.")]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("char token;\nint x;\nint y;\n// code\nswitch (token)\n{\n  case '-':\n  {\n    y = -y;\n    // FALLTHROUGH\n  }\n\n  case '+':\n  {\n    return x + y;\n  }\n\n  // TODO: Implement these ops\n  case '*': // FALLTHROUGH\n  case '/': // FALLTHROUGH\n  default:\n  {\n    printf(\"Unknown operator\");\n    break;\n  }\n}\n")])])])])]),e._v(" "),a("h4",{attrs:{id:"goto"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#goto"}},[e._v("#")]),e._v(" goto")]),e._v(" "),a("p",[e._v("Usage of "),a("code",[e._v("goto")]),e._v(" is necessary sometimes but each usage must:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Be preceded by a comment indicating the necessity of "),a("code",[e._v("goto")])])]),e._v(" "),a("li",[a("p",[e._v("Use a well-named label")])])]),e._v(" "),a("p",[e._v("Only use "),a("code",[e._v("goto")]),e._v(" when it is absolutely required and you have no other option.")]),e._v(" "),a("h3",{attrs:{id:"looping-constructs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#looping-constructs"}},[e._v("#")]),e._v(" Looping constructs")]),e._v(" "),a("p",[e._v("Looping constructs follow all the rules for flow control, as far as placement of braces and organization of multi-line conditionals.")]),e._v(" "),a("p",[e._v("Whether or not to use inline variable declarations for any looping construct (but especially for your "),a("code",[e._v("for")]),e._v(" loop iterator(s)) is at your discretion.")]),e._v(" "),a("h3",{attrs:{id:"functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#functions"}},[e._v("#")]),e._v(" Functions")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Function names should not be camel-case; they should have words separated by _.")])]),e._v(" "),a("li",[a("p",[e._v("No space between the method name and opening parenthesis")])]),e._v(" "),a("li",[a("p",[e._v("There must be a single space (or newline) between a "),a("code",[e._v(",")]),e._v(" and the next variable in the arguments list")])]),e._v(" "),a("li",[a("p",[e._v("Every function is expected to have a declaration. Functions which are to be exported or otherwise publicly available are to be declared in an associated header file; all other functions are declared in the implementation.")])]),e._v(" "),a("li",[a("p",[e._v("Declarations should include both a type and a name for all parameters.")])]),e._v(" "),a("li",[a("p",[e._v("Functions which take no arguments do not need to be declared as "),a("code",[e._v("f(void)")]),e._v("; can be "),a("code",[e._v("f()")]),e._v(" instead.")])]),e._v(" "),a("li",[a("p",[e._v('Functions should be named as "actions" rather than things ('),a("code",[e._v("get_x()")]),e._v(" vs. "),a("code",[e._v("x()")]),e._v(")")])])]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("void foo_bar(int x, int y,\n        int z);\nint f();\n\nvoid foo_bar(int x, int y, int z)\n{\n  // func goes here\n}\n\nint f()\n{\n  return 0;\n}\n")])])]),a("h4",{attrs:{id:"return"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return"}},[e._v("#")]),e._v(" return")]),e._v(" "),a("p",[e._v("Functions which "),a("code",[e._v("return")]),e._v(" a compound statement should have that expression wrapped in parenthesis.")]),e._v(" "),a("h3",{attrs:{id:"variables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#variables"}},[e._v("#")]),e._v(" Variables")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Variables should not be camel-case; they should have words separated by _.")])]),e._v(" "),a("li",[a("p",[e._v("Variables should have descriptive names; the exception is for pure iterators, which are allowed to be "),a("code",[e._v("i, j, k")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Variables must be defined at the beginning of a block.")])]),e._v(" "),a("li",[a("p",[e._v("Only one variable should be defined per line (no comma operator when defining variables.)")])]),e._v(" "),a("li",[a("p",[e._v("Only one variable should be assigned to per line (no chained "),a("code",[e._v("=")]),e._v(".)")])]),e._v(" "),a("li",[a("p",[e._v('Variables should be named as "things" rather than actions or gerunds.')])]),e._v(" "),a("li",[a("p",[e._v("Variable types should follow these rules:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Pointer types should have the * after the type, followed by a space")])]),e._v(" "),a("li",[a("p",[e._v("Reference types should have the & after the type, followed by a space")])]),e._v(" "),a("li",[a("p",[e._v("Array types should have the "),a("code",[e._v("[]")]),e._v(" after the variable name")])]),e._v(" "),a("li",[a("p",[e._v("Array types should be preferred over pointer types where the intended use of the object is as an array.")])])])])]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("int x;\nint* x_ptr;\nint& x_ref;\nchar* argv[];\n")])])]),a("h3",{attrs:{id:"enum"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enum"}},[e._v("#")]),e._v(" enum")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Names of "),a("code",[e._v("enum")]),e._v("constructs should be capitalized camel-case, and placed on the same line as the closing brace.")]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("enum {\n    ONE = 1,\n    TWO,\n    THREE\n} FooValues; // name should be camelcase with leading cap\n")])])])])]),e._v(" "),a("h3",{attrs:{id:"typdef"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#typdef"}},[e._v("#")]),e._v(" typdef")]),e._v(" "),a("ul",[a("li",[e._v("Names of type constructs should be capitalized camel-case")])]),e._v(" "),a("h3",{attrs:{id:"struct-and-union"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#struct-and-union"}},[e._v("#")]),e._v(" struct and union")]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("Do not use")]),e._v(" "),a("code",[e._v("struct")]),e._v(" "),a("strong",[e._v("as a C++ construct.")]),e._v(" "),a("code",[e._v("struct")]),e._v("should be used only in the way that it is defined by the C specification.")]),e._v(" "),a("ul",[a("li",[e._v("In particular, "),a("strong",[e._v("do not include functions as part of your")]),e._v(" "),a("code",[e._v("struct")]),a("strong",[e._v("!")]),e._v(" "),a("code",[e._v("structs")]),e._v(" are POD (plain old data). Do not use the "),a("code",[e._v("public")]),e._v(" access specifier in your structs, either.")])])]),e._v(" "),a("li",[a("p",[a("code",[e._v("struct")]),e._v(" and "),a("code",[e._v("union")]),e._v(" should only be used as part of a "),a("code",[e._v("typedef")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("The name of the type associated with the construct should be on the same line as the closing brace, not on its own line.")]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("typedef struct\n{\n    int x;\n} X;\n\ntypedef union\n{\n    int x;\n    float y;\n} Y;\n")])])])])]),e._v(" "),a("h3",{attrs:{id:"operators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#operators"}},[e._v("#")]),e._v(" Operators")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Always put a space both before and after binary operators.")])]),e._v(" "),a("li",[a("p",[e._v("Always put a space before any unary prefix operators, unless immediately preceded by a parenthesis.")]),e._v(" "),a("ul",[a("li",[e._v("All casts (C-style and C++ "),a("code",[e._v("x_cast<>()")]),e._v(") are considered unary prefix operators for this purpose.")])])]),e._v(" "),a("li",[a("p",[e._v("Always put a space after any unary suffix operators, unless they are immediately followed by a "),a("code",[e._v(";")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("Always place parenthesis around compound statements where order of operations may be ambiguous (such as mixing binary and arithmetic operators.)")])]),e._v(" "),a("li",[a("p",[e._v("Expressions spanning multiple lines should have their continuing lines indented to one tabstop beyond the initial "),a("code",[e._v("=")]),e._v("or parenthesis.")]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("int x = 1 + 2;\nint* x_ptr = &x;\ndouble d = (float)(*x_ptr) / 2.0;\n++x;\nlong example = d /\n        (d+1);\n")])])])])]),e._v(" "),a("h4",{attrs:{id:"prefix-postfix-increment-decrement"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prefix-postfix-increment-decrement"}},[e._v("#")]),e._v(" Prefix/postfix increment/decrement")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Prefix increment/decrement is preferred over postfix increment/decrement.")])]),e._v(" "),a("li",[a("p",[e._v("Make a best effort to avoid usage of these operators in compound statements.")])])]),e._v(" "),a("h4",{attrs:{id:"ternary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ternary"}},[e._v("#")]),e._v(" Ternary")]),e._v(" "),a("p",[e._v("Usage of ternary is discouraged, but it is often useful for certain cases (such as assignment or return value based on a condition.) When using ternary, you should:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Consider ternary to always be a compound statement in and of itself")])]),e._v(" "),a("li",[a("p",[e._v("Place any compound statements within parenthesis")])]),e._v(" "),a("li",[a("p",[e._v("Treat both the "),a("code",[e._v("?")]),e._v(" and "),a("code",[e._v(":")]),e._v(" characters as binary operators")])]),e._v(" "),a("li",[a("p",[e._v("Avoid obvious side-effects within ternary, unless they are intended.")])])]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("int f(boolean check)\n{\n  return (check ? (1+1) : 0);\n}\n")])])]),a("h4",{attrs:{id:"operator-overloading"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#operator-overloading"}},[e._v("#")]),e._v(" Operator overloading")]),e._v(" "),a("p",[e._v("A special word on operator overloading for C++: "),a("strong",[e._v("Avoid operator overloading.")]),e._v(" Overloading operators leads to interesting scenarios such as this one:")]),e._v(" "),a("p",[a("strong",[e._v("Counterexample")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class Vector\n{\n  inline double operator[](int i) {\n    // return something from impl\n  };\n};\n\n// Don't you even dare think of making Matrix a base class for\n// RowMajorMatrix or ColumnMajorMatrix, because the problem below still\n// happens every time we abstract either to a Matrix.\n//\n// Adding a boolean row_major as part of the constructor (and a read-only property)\n// is ALSO not acceptable because then every time you read from a matrix, you have to\n// check it.\nclass Matrix\n{\n  // constructor intentionally omitted\n  Vector representation[];\n  inline Vector operator[](int i) {\n    return representation[i];\n  }\n};\n\nVector a(1,2,3);\nVector b(4,5,6);\nVector c(7,8,9);\n\nMatrix m(a, b, c);\n// Without looking at the definition of Matrix::Matrix(...),\n// this could be EITHER:\n// 3 (row major)\n// 7 (column major)\ndouble what = m[0][2];\n\n// Here's the better way to do it (although there's still an operator overload, it makes \"more sense\")\ndouble is3 = m.row(0)[2];\ndouble is7 = m.col(0)[2];\n")])])]),a("p",[e._v("In the case where you "),a("strong",[e._v("absolutely must")]),e._v(" overload an operator (such as placement "),a("code",[e._v("new()")]),e._v(", incrementing enumerators, or creating a functor) then you are expected to provide ample documentation justifying your folly and make every effort possible to prevent other developers from committing crimes such as the above example.")]),e._v(" "),a("p",[e._v("An additional note: You must define both "),a("code",[e._v("operator+``(void)")]),e._v(" and "),a("code",[e._v("operator``+(int)")]),e._v(" when overloading increment (and the equivalent operators when doing decrement) "),a("strong",[e._v("and the definitions must be identical.")])]),e._v(" "),a("h3",{attrs:{id:"c-rules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-rules"}},[e._v("#")]),e._v(" C++ rules")]),e._v(" "),a("p",[e._v("These rules are to be applied on top of any C rules described above. If there is a conflict then the rule described in the C++ section takes priority.")]),e._v(" "),a("h4",{attrs:{id:"filenames"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#filenames"}},[e._v("#")]),e._v(" Filenames")]),e._v(" "),a("ul",[a("li",[e._v("use .h, .c and .cpp only")])]),e._v(" "),a("h4",{attrs:{id:"classes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#classes"}},[e._v("#")]),e._v(" Classes:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Members and methods should be order by public, protected and then private")])]),e._v(" "),a("li",[a("p",[e._v("All members and methods should be within a access level block")])]),e._v(" "),a("li",[a("p",[e._v("Private members should be in a access level specifier (IE: don't rely on the default class access level)")])]),e._v(" "),a("li",[a("p",[e._v('Access identifiers within a class should be aligned with the "class" in the declaration. IE:')]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("class MyClass\n{\npublic:\n  int x;\n\nprivate:\n  int y;\n}\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Permissions should be strict by default and opened up as needed")])]),e._v(" "),a("li",[a("p",[e._v("Inline methods should be defined in a implementation file and not in the header or class declaration.")])]),e._v(" "),a("li",[a("p",[e._v("Keep implementation outside of class declaration. The class declaration should be seen as a interface that you can read over quickly in order to understand how to use it.")])]),e._v(" "),a("li",[a("p",[e._v('If class is meant to be derived from, make sure to include a virtual destructor (a destructor defined for this purpose does not fill the need for the "rule of three")')])]),e._v(" "),a("li",[a("p",[e._v('Respect the rule of three ("always override operator=, destructor, and copy constructor if you override any").')])]),e._v(" "),a("li",[a("p",[e._v("Comment if a method is static in method comment within the implementation file\n*Remember that virtual methods have time and cost (IE: just think when using them)")])])]),e._v(" "),a("h4",{attrs:{id:"general-c"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#general-c"}},[e._v("#")]),e._v(" General C++")]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("Multiple inheritance should be avoided in most cases.")]),e._v(" Inheritance of a single normal class and multiple interfaces (pure virtual class) is allowed. Keep in mind that when using multiple inheritance you are going to draw strong questions and concerns regarding the design - be prepared with very good answers.")])]),e._v(" "),a("li",[a("p",[e._v('"new" should be used over malloc when possible')])]),e._v(" "),a("li",[a("p",[e._v("Shouldn't really need to be called out, but NEVER mix malloc/delete and new/free")])]),e._v(" "),a("li",[a("p",[e._v("Be const correct within reason. It can be a huge pain in the ass but it's less painful in the long run.")]),e._v(" "),a("ul",[a("li",[e._v("Try to avoid const_cast<>()")])])]),e._v(" "),a("li",[a("p",[e._v("Use function overloading rather than name variants if possible (IE: add() with overloaded versions rather than addInt, addFloat, etc)")])]),e._v(" "),a("li",[a("p",[e._v("Remember that STL can be expensive. Dont use a sledgehammer to drive a nail into the wall")])])]),e._v(" "),a("h3",{attrs:{id:"other-rules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#other-rules"}},[e._v("#")]),e._v(" Other rules")]),e._v(" "),a("h4",{attrs:{id:"c99"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c99"}},[e._v("#")]),e._v(" C99")]),e._v(" "),a("p",[e._v("You are expected to use a C99-compliant compiler for all C and C++ code.")]),e._v(" "),a("h4",{attrs:{id:"c-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-11"}},[e._v("#")]),e._v(" C++11")]),e._v(" "),a("p",[e._v("Although you may use a (partially) C+11-compliant compiler, "),a("strong",[e._v("do not")]),e._v(" use C+11 features in any code.")]),e._v(" "),a("h4",{attrs:{id:"boost"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#boost"}},[e._v("#")]),e._v(" BOOST")]),e._v(" "),a("p",[e._v("BOOST is illegal. If you make a commit which uses BOOST (and is not a 3rd party library that depends on BOOST, and even then...) you are fired.")]),e._v(" "),a("h4",{attrs:{id:"nonstandard-extensions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nonstandard-extensions"}},[e._v("#")]),e._v(" Nonstandard extensions")]),e._v(" "),a("p",[e._v("Nonstandard extensions such as blocks or GCC-specific macros/definitions/keywords should not be used unless you are writing code which is intended to be used with compilers supporting these features "),a("strong",[e._v("only")]),e._v(" and do not intend to port the source to, or use on, other platforms.")]),e._v(" "),a("p",[e._v("If you must use these features, place them within the appropriate preprocessor conditional blocks.")]),e._v(" "),a("h4",{attrs:{id:"c-fqa-familiarity"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c-fqa-familiarity"}},[e._v("#")]),e._v(" C++ FQA familiarity")]),e._v(" "),a("p",[e._v("When writing C++, you may want to maintain a level of familiarity with the "),a("a",{attrs:{href:"http://yosefk.com/c++fqa/",target:"_blank",rel:"noopener noreferrer"}},[e._v("FQA (Frequently Questioned Answers)"),a("OutboundLink")],1),e._v(" to avoid grammar ambiguities and recognize inappropriate usage of features. This is "),a("strong",[e._v("especially true")]),e._v(" when using the "),a("a",{attrs:{href:"http://www.parashift.com/c++-faq-lite/",target:"_blank",rel:"noopener noreferrer"}},[e._v("FAQ Lite"),a("OutboundLink")],1),e._v(" as a reference.")]),e._v(" "),a("h4",{attrs:{id:"code-clarity"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#code-clarity"}},[e._v("#")]),e._v(" Code clarity")]),e._v(" "),a("p",[e._v("Writing professional, enterprise-level code is not an obfuscation contest. Do not use aggressive, weird tricks for optimization or other confusing-looking code without first:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Considering all other possible options")])]),e._v(" "),a("li",[a("p",[e._v("Documenting it")])])]),e._v(" "),a("p",[e._v('Use your best judgement as to what constitutes "clear code" and expect a general consensus over what constitutes that particular style as the source base evolves.')])])}),[],!1,null,null,null);t.default=o.exports}}]);