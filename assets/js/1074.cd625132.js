(window.webpackJsonp=window.webpackJsonp||[]).push([[1074],{1229:function(t,a,s){"use strict";s.r(a);var e=s(21),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"windows-module-quick-start"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windows-module-quick-start"}},[t._v("#")]),t._v(" Windows Module Quick Start")]),t._v(" "),s("h2",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),s("p",[t._v("This guide walks through the steps to create, build and test an Windows module using Studio. The equivalent CLI instructions are given in the information boxes near the top of each section.")]),t._v(" "),s("h2",{attrs:{id:"windows-module-prerequisites"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windows-module-prerequisites"}},[t._v("#")]),t._v(" Windows module prerequisites")]),t._v(" "),s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("â—ï¸ Warning")]),t._v(" "),s("p",[t._v("As of Titanium 9.0.0, building Windows apps is no longer supported.")])]),t._v(" "),s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("â—ï¸ Warning")]),t._v(" "),s("p",[t._v("Support for Windows 8.1 and Windows Phone SDKs has been deprecated as of SDK 6.3.0.GA and has be removed in SDK 7.0.0.GA.")])]),t._v(" "),s("p",[t._v("To develop an Windows-based Module, you'll need all of the software required to build a Titanium application for Windows:")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Titanium SDK")])]),t._v(" "),s("li",[s("p",[t._v("Supported versions of Visual Studio and the Windows Phone SDK, as described in "),s("a",{attrs:{href:"#undefined"}},[t._v("Installing the Windows Phone SDK")])])]),t._v(" "),s("li",[s("p",[t._v("Studio or the Appcelerator Command-Line Interface (CLI) for creating modules, and building and running test applications")])])]),t._v(" "),s("p",[t._v("Like Windows application development, Windows module development is only supported on Windows.")]),t._v(" "),s("h2",{attrs:{id:"create-a-new-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-a-new-module"}},[t._v("#")]),t._v(" Create a new module")]),t._v(" "),s("p",[t._v("First, create a new module project.")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("ðŸ’¡ CLI Instructions")]),t._v(" "),s("p",[t._v("From a terminal, change the current working directory to your workspace and run:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")]),t._v("/TO/WORKSPACE\nappc new -n "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v(" --id com.example.test\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('### when prompted for the project type, select "Titanium Module"')]),t._v("\n")])])])]),t._v(" "),s("p",[t._v("In Studio:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("From the menu, select "),s("strong",[t._v("File")]),t._v(" > "),s("strong",[t._v("New")]),t._v(" > "),s("strong",[t._v("Mobile Module Project")]),t._v(" to open the "),s("strong",[t._v("New Mobile Module Project")]),t._v(" dialog.")])]),t._v(" "),s("li",[s("p",[t._v("In the "),s("strong",[t._v("Project name")]),t._v(" field, enter "),s("strong",[t._v("test")]),t._v(".")])]),t._v(" "),s("li",[s("p",[t._v("In the "),s("strong",[t._v("Module Id")]),t._v(" field, enter "),s("strong",[t._v("com.example.test")]),t._v(".")])]),t._v(" "),s("li",[s("p",[t._v("In "),s("strong",[t._v("Deployment Targets")]),t._v(", select "),s("strong",[t._v("Windows")]),t._v(".")])]),t._v(" "),s("li",[s("p",[t._v("Click "),s("strong",[t._v("Next")]),t._v(", then click "),s("strong",[t._v("Finish")]),t._v(".")])])]),t._v(" "),s("p",[t._v("Studio sets up a new folder called "),s("code",[t._v("test")]),t._v(" that contains your module project.")]),t._v(" "),s("h2",{attrs:{id:"build-and-package-the-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#build-and-package-the-module"}},[t._v("#")]),t._v(" Build and package the module")]),t._v(" "),s("p",[t._v("Next, build the module and package it. This process produces a ZIP file containing a binary library with unprocessed module assets, example code and documentation.")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("ðŸ’¡ CLI Instructions")]),t._v(" "),s("p",[t._v("From a terminal, go to the module's windows directory and run the "),s("code",[t._v("appc run -p windows --build-only")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" test/windows\nappc run -p windows --build-only\n")])])]),s("p",[t._v("After the build completes, unzip the built module in the Titanium SDK home path: ("),s("code",[t._v("C:\\ProgramData\\Titanium")]),t._v(").")])]),t._v(" "),s("p",[t._v("In Studio:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Select your module folder in the "),s("strong",[t._v("Project Explorer")]),t._v(" view.")])]),t._v(" "),s("li",[s("p",[t._v("Verify "),s("strong",[t._v("Package")]),t._v(" and "),s("strong",[t._v("Windows Module")]),t._v(" are displayed in "),s("strong",[t._v("Launch Mode")]),t._v(" and "),s("strong",[t._v("Launch Target")]),t._v(", respectively.")])]),t._v(" "),s("li",[s("p",[t._v("Click the Package icon to open the "),s("strong",[t._v("Package Windows Module")]),t._v(" dialog.")])]),t._v(" "),s("li",[s("p",[t._v("In "),s("strong",[t._v("Output Location")]),t._v(", choose the "),s("strong",[t._v("Titanium SDK")]),t._v(" to install the module in the Titanium SDK home path to be accessed by any Titanium application.")])]),t._v(" "),s("li",[s("p",[t._v("Click "),s("strong",[t._v("Finish")]),t._v(".")])])]),t._v(" "),s("p",[t._v("Studio builds and installs the module to the Titanium SDK home path.")]),t._v(" "),s("h2",{attrs:{id:"test-the-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#test-the-module"}},[t._v("#")]),t._v(" Test the module")]),t._v(" "),s("p",[t._v("To test the module, create a test application and add the module as a dependency of the project. Then, load the module and make module API calls to the module reference.")]),t._v(" "),s("h3",{attrs:{id:"create-a-test-application"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-a-test-application"}},[t._v("#")]),t._v(" Create a test application")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("ðŸ’¡ CLI Instructions")]),t._v(" "),s("p",[t._v("From a new terminal window, change the current working directory to your workspace and run the following commands:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /"),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")]),t._v("/TO/WORKSPACE\nappc new -t titanium -p windows -n Hello -u http:// --id com.example.hello\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" Hello/\n")])])])]),t._v(" "),s("p",[t._v("In Studio:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("From the menu, select "),s("strong",[t._v("File")]),t._v(" > "),s("strong",[t._v("New")]),t._v(" > "),s("strong",[t._v("Mobile App Project")]),t._v(" to open the "),s("strong",[t._v("New Mobile App Project")]),t._v(" dialog.")])]),t._v(" "),s("li",[s("p",[t._v("On the "),s("strong",[t._v("Project Template")]),t._v(" page, select "),s("strong",[t._v("Default Alloy Project")]),t._v(" as the template type, then click "),s("strong",[t._v("Next")]),t._v(".")])]),t._v(" "),s("li",[s("p",[t._v("On the "),s("strong",[t._v("Project Location")]),t._v(" page, enter the following information:")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("In the "),s("strong",[t._v("Project Name")]),t._v(" field, enter "),s("strong",[t._v("Hello")]),t._v(".")])]),t._v(" "),s("li",[s("p",[t._v("In the "),s("strong",[t._v("App ID")]),t._v(" field, enter "),s("strong",[t._v("com.example.hello")]),t._v(".")])]),t._v(" "),s("li",[s("p",[t._v("In "),s("strong",[t._v("Deployment Targets")]),t._v(", select "),s("strong",[t._v("Windows")]),t._v(".")])])])]),t._v(" "),s("li",[s("p",[t._v("Click "),s("strong",[t._v("Finish")]),t._v(" to create the project.")])])]),t._v(" "),s("p",[t._v("Studio sets up a new folder called "),s("code",[t._v("Hello")]),t._v(" that contains the test application you will be using to test the module.")]),t._v(" "),s("h3",{attrs:{id:"add-the-module-as-a-dependency-to-the-project"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-the-module-as-a-dependency-to-the-project"}},[t._v("#")]),t._v(" Add the module as a dependency to the project")]),t._v(" "),s("p",[t._v("To load the module in the application, you need to add it as a dependency to the project.")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("ðŸ’¡ CLI Instructions")]),t._v(" "),s("p",[t._v("Open the "),s("code",[t._v("tiapp.xml")]),t._v(" and update the "),s("code",[t._v("<modules/>")]),t._v(" element to include the module as a dependency to the project:")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("ti:")]),t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("modules")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("module")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("platform")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("windows"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.example.test"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("module")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("modules")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("ti:")]),t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),s("p",[t._v("In Studio:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Open the "),s("code",[t._v("tiapp.xml")]),t._v(" file located in the root directory of the project.")])]),t._v(" "),s("li",[s("p",[t._v("Under the "),s("strong",[t._v("Modules")]),t._v(" section, click the "),s("strong",[t._v("Add")]),t._v(" button.")])]),t._v(" "),s("li",[s("p",[t._v("Select "),s("strong",[t._v("com.example.test")]),t._v(".")])]),t._v(" "),s("li",[s("p",[t._v("Click "),s("strong",[t._v("OK")]),t._v(".")])])]),t._v(" "),s("h3",{attrs:{id:"load-the-module-and-make-module-api-calls"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#load-the-module-and-make-module-api-calls"}},[t._v("#")]),t._v(" Load the module and make module API calls")]),t._v(" "),s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("âš ï¸ Warning")]),t._v(" "),s("p",[t._v("The module can be loaded by passing the module ID to the "),s("code",[t._v("require()")]),t._v(" method, which returns a reference to the module that API calls can be made on.")])]),t._v(" "),s("p",[t._v("Open the "),s("code",[t._v("app/alloy.js")]),t._v(" file and replace the code with the following, which invokes API calls to the module:")]),t._v(" "),s("p",[s("strong",[t._v("app/alloy.js")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" test "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.example.test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nTi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module is => "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nTi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module example() method returns => "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("example")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nTi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module exampleProp is => "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exampleProp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ntest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exampleProp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"This is a test value"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"run-the-application"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#run-the-application"}},[t._v("#")]),t._v(" Run the application")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("ðŸ’¡ CLI Instructions")]),t._v(" "),s("p",[t._v("From a terminal that has the test app as its current working directory, run:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("appc run -p windows\n")])])])]),t._v(" "),s("p",[t._v("In the Studio toolbar, select "),s("strong",[t._v("Run")]),t._v(" in "),s("strong",[t._v("Launch Modes")]),t._v(" and select an Windows Phone simulator in "),s("strong",[t._v("Launch Targets")]),t._v(".")]),t._v(" "),s("p",[t._v("Studio builds and launches the application on the select Windows Phone simulator. Monitor the "),s("strong",[t._v("Console")]),t._v(" view for log output.")]),t._v(" "),s("p",[t._v("The console lines seen below show us that the module is working as expected.")]),t._v(" "),s("p",[s("strong",[t._v("Console")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[INFO]  module is => [object ComExampleTestModule]\n[INFO]  module example() method returns => hello world\n[INFO]  module exampleProp is => hello world\n")])])]),s("h2",{attrs:{id:"modify-the-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#modify-the-module"}},[t._v("#")]),t._v(" Modify the module")]),t._v(" "),s("p",[t._v("Let's modify the module code to create a view object and access a string property.")]),t._v(" "),s("p",[t._v("First, look at some of the default files created by the Titanium SDK. Expand the "),s("code",[t._v("windows")]),t._v(" folder. Inside this folder are two files:")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("src/ComExampleTest.cpp")]),t._v(": This is a boiler plate Module class. Every module requires a module class, which acts as the base API for the module.")])]),t._v(" "),s("li",[s("p",[t._v("i"),s("code",[t._v("nclude/ComExampleTest.hpp")]),t._v(" : This is a header file for the boiler plate class.")])])]),t._v(" "),s("h3",{attrs:{id:"add-a-property"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-a-property"}},[t._v("#")]),t._v(" Add a property")]),t._v(" "),s("p",[t._v("A Module is a key/value store like an Object. Without any modification, you can set properties on a Module and then read them back at will as if they were properties. You can also override the getters and setters to add some custom logic. Modify the default module class files to store and retrieve a string value. First, modify the "),s("code",[t._v("ComExampleTestModule.hpp")]),t._v(" file to declare a variable to hold the string:")]),t._v(" "),s("p",[s("strong",[t._v("ComExampleTest.hpp")])]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("COMEXAMPLETEST_EXPORT")]),t._v(" Test "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Titanium"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" JSExport"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TITANIUM_PROPERTY_DEF")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exampleProp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        std"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("string exampleProp__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Next, modify the example setter and getter to actually set and get the variable you just declared. These methods are already declared in the "),s("code",[t._v("ComExampleTestModule.cpp")]),t._v(" file but not implemented. TitaniumKit provides useful macro to declare setter and getter, which is "),s("code",[t._v("TITANIUM_PROPERTY_GETTER")]),t._v(" and "),s("code",[t._v("TITANIUM_PROPERTY_GETTER")]),t._v(" . TitaniumKit requires property value being treated as an "),s("code",[t._v("JSValue")]),t._v(" datatype. Once you implement the method, register it using "),s("code",[t._v("TITANIUM_ADD_FUNCTION")]),t._v(" in "),s("code",[t._v("JSExportInitialize")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("ComExampleTest.cpp")])]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TITANIUM_PROPERTY_GETTER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exampleProp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// example property getter")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Getter should return JavaScript value (JSValue).")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// For more information on how to use JSContext / JSValue / JSObject, check out HAL:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      https://github.com/appcelerator/HAL")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_context")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CreateString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exampleProp__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TITANIUM_PROPERTY_SETTER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exampleProp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// example property setter")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// There are a variable expanded from TITANIUM_PROPERTY_SETTER macro here:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     JSValue argument ... JavaScript value that is passed to this setter")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Example:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   # Check if it's a string")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      auto _0 = argument.IsString();")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   # Convert argument to std::string")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      auto _0 = static_cast<std::string>(argument);")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   For more information on how to use JSContext / JSValue / JSObject, check out HAL:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      https://github.com/appcelerator/HAL")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Update property string")]),t._v("\n    exampleProp__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static_cast")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("std"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("argument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Setter should return true if the property was set, otherwise false.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" Test"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("JSExportInitialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    JSExport"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetClassVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    JSExport"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetParent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("JSExport"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Titanium"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("Module"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// register exampleProp property")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TITANIUM_ADD_PROPERTY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exampleProp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"add-a-function"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-a-function"}},[t._v("#")]),t._v(" Add a function")]),t._v(" "),s("p",[t._v("In order to add JavaScript function to Module, modify the default module class files to return JavaScript value First, modify the "),s("code",[t._v("ComExampleTestModule.hpp")]),t._v(" file to declare a JavaScript function using "),s("code",[t._v("TITANIUM_FUNCTION_DEF")]),t._v(":")]),t._v(" "),s("p",[s("strong",[t._v("ComExampleTest.hpp")])]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("COMEXAMPLETEST_EXPORT")]),t._v(" Test "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Titanium"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("Module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" JSExport"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TITANIUM_FUNCTION_DEF")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Next, modify the example function to actually return variable you just declared. These methods are already declared in the "),s("code",[t._v("ComExampleTestModule.cpp")]),t._v(" file but not implemented. TitaniumKit provides useful macro to declare JavaScript function, which is "),s("code",[t._v("TITANIUM_FUNCTION")]),t._v(". "),s("code",[t._v("TITANIUM_FUNCTION")]),t._v(" should return "),s("code",[t._v("JSValue")]),t._v(" datatype. Once you implement the method, register it using "),s("code",[t._v("TITANIUM_ADD_PROPERTY")]),t._v(" in "),s("code",[t._v("JSExportInitialize")]),t._v(".")]),t._v(" "),s("p",[s("strong",[t._v("ComExampleTest.cpp")])]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TITANIUM_FUNCTION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// example method")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// There are variables expanded from TITANIUM_FUNCTION macro here:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     std::vector<JSValue> arguments ... list of arguments that is passed to this function")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     JSObject this_object           ... "this" JavaScript object')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Example:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//    # Get first argument and convert to std::string")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      auto _0 = static_cast<std::string>(arguments.at(0));")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//    # Get first argument and convert to double")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      auto _0 = static_cast<double>(arguments.at(0));")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//    # Get first argument and convert to std::uint32_t")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      auto _0 = static_cast<std::uint32_t>(arguments.at(0));")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   Function should return JSValue.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   For more information on how to use JSContext / JSValue / JSObject, check out HAL:")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//      https://github.com/appcelerator/HAL")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Let's return exampleProp value for now")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_context")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CreateString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exampleProp__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" Test"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("JSExportInitialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    JSExport"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetClassVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    JSExport"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetParent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("JSExport"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Titanium"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("Module"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// register example function")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TITANIUM_ADD_FUNCTION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"firing-callbacks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#firing-callbacks"}},[t._v("#")]),t._v(" Firing callbacks")]),t._v(" "),s("p",[t._v("There are multiple way to fire JavaScript functions as a callback. First, the easiest way to fire callback is leveraging Titanium's event mechanics such as "),s("code",[t._v("addEventListener")]),t._v(".\nSo let say you are listening "),s("code",[t._v("somethingfired")]),t._v(" event. In this case you can add listener in JavaScript like below.")]),t._v(" "),s("p",[s("strong",[t._v("app.js")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'somethingfired'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Ti"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("' my_number:'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("my_number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("In this case, you can fire this callback from the module by executing "),s("code",[t._v("fireEvent")]),t._v(" like below.")]),t._v(" "),s("p",[s("strong",[t._v("ComExampleTest.cpp")])]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TITANIUM_FUNCTION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("YourModule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" doTheMyNumberEvent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" ctx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_context")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" e "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CreateObject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my_number"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CreateNumber")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12345")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fireEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"somethingfired"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("There is another way to do the callback, by calling "),s("code",[t._v("JSObject")]),t._v(" as a function directly. This is basic functionality on HAL framework.")]),t._v(" "),s("p",[s("strong",[t._v("app.js")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doTheCallbackImmediately")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("str")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Ti"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Since HAL "),s("code",[t._v("JSObject")]),t._v(" is callable, you can just execute it with arguments like below.")]),t._v(" "),s("p",[s("strong",[t._v("ComExampleTest.cpp")])]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("TITANIUM_FUNCTION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("YourModule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" doTheCallbackImmediately"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ENSURE_OBJECT_AT_INDEX")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("my_callback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" std"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),t._v("vector"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("JSValue"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" args "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_context")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CreateString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TEST"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("my_callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_object")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_context")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CreateUndefined")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"next-steps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#next-steps"}},[t._v("#")]),t._v(" Next steps")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("For information about HAL API, see "),s("a",{attrs:{href:"https://github.com/appcelerator/HAL",target:"_blank",rel:"noopener noreferrer"}},[t._v("github/appcelerator/HAL"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("For information about TitaniumKit, see "),s("a",{attrs:{href:"https://github.com/appcelerator/titanium_mobile_windows",target:"_blank",rel:"noopener noreferrer"}},[t._v("github/appcelerator/titanium_mobile_windows"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("For more examples of using the module API, see working Titanium modules under "),s("a",{attrs:{href:"https://github.com/appcelerator/titanium_mobile_windows/tree/master/Source",target:"_blank",rel:"noopener noreferrer"}},[t._v("github/appcelerator/titanium_mobile_windows/Source"),s("OutboundLink")],1)])])])])}),[],!1,null,null,null);a.default=n.exports}}]);